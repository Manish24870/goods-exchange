(this["webpackJsonpgoods-exchange-client"]=this["webpackJsonpgoods-exchange-client"]||[]).push([[0],{214:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(43),s=n.n(i),o=n(21),d=n(18),l=n(308),u=n(56),j=(n(193),n(152)),x=Object(j.a)({palette:{type:"light",primary:{main:"#109382",contrastText:"#fff"},secondary:{main:"#FF5F5F",contrastText:"#fff"},error:{main:"#FF5F5F"},success:{main:"#E3A6F6"},info:{main:"#6325A9"}},typography:{fontFamily:"Sora",fontSize:14,caption:{fontSize:"0.83rem"}},components:{MuiContainer:{defaultProps:{maxWidth:"lg"}}}}),p=n(98),m=n(24),h=n(1),b=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.isAuthenticated,n=e.children;return t?n:Object(h.jsx)(m.a,{to:"/auth/login"})})),f=n(3),O=n(12),g=n(8),v=n(230),y=n(309),w=n(93),I=n(303),C=n(92),T=n(73),E=n(313),S=n(31),P=n.n(S),D=n(14),_=n.n(D),A=n(25),L=n(146),U=n.n(L).a.create({baseURL:"http://localhost:5000"}),k=function(e){e?U.defaults.headers.common.Authorization="Bearer ".concat(e):delete U.defaults.headers.common.Authorization},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";u.b.dismiss(),u.b.clearWaitingQueue(),"invalid-login-error"===t?u.b.error(e):"success"===t?u.b.success(e):"error"===t?u.b.error(e):"default"===t&&Object(u.b)(e)},F="SET_CURRENT_USER",N="SET_CURRENT_USER_INFO",M="SET_CURRENT_USER_LOADING",z="SET_CURRENT_USER_INFO_LOADING",W="SET_ERRORS",Y="CLEAR_ERRORS",B="CREATE_NEW_PRODUCT",G="GET_PRODUCTS",q="GET_PRODUCTS_LOADING",V="GET_PRODUCT",H="FAVORITE_PRODUCT",K="CREATE_NEW_QUESTION",Q="CREATE_NEW_ANSWER",Z="GET_MY_PRODUCTS",X="GET_MY_FAVORITES",J="GET_MY_INITIATES",$="GET_MY_OFFERS",ee="SET_MY_PORDUCTS_LOADING",te="SET_MY_FAVORITES_LOADING",ne="SET_MY_INITIATES_LOADING",re="SET_MY_OFFERS_LOADING",ae="ADMIN_GET_USERS",ce="ADMIN_GET_USERS_LOADING",ie="ADMIN_GET_PRODUCTS",se="ADMIN_GET_PRODUCTS_LOADING",oe="ADMIN_DELETE_USER",de="ADMIN_DELETE_PRODUCT",le="ADMIN_PROMOTE_USER",ue="ADMIN_DEMOTE_USER",je=function(e){return function(t){"unauthorized-error"!==e.errorType&&"already-exchanged-error"!==e.errorType&&"already-reviewed-error"!==e.errorType&&"already-reported-error"!==e.errorType||R(e.data.errors.message,"error"),t({type:W,payload:e})}},xe=function(){return function(e){e({type:Y})}},pe=function(e,t,n){var r=e.data.data.token;t({type:N,payload:e.data.data.user}),localStorage.setItem("jwt",r),k(r);var a=Object(p.a)(r);t(me(a)),R("Login Successful","success"),n("/products",{replace:!0})},me=function(e){return{type:F,payload:e}},he=function(){return{type:M}},be=Object(d.b)((function(e){return{error:e.error}}),{registerUser:function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(r){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(he()),n.prev=1,n.next=4,U.post("/api/auth/register",e);case 4:a=n.sent,pe(a,r,t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(je(n.t0.response.data));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},clearErrors:xe})((function(e){var t=Object(m.g)(),n=Object(a.useState)({username:"",email:"",password:"",passwordConfirm:""}),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({}),d=Object(g.a)(s,2),l=d[0],u=d[1];Object(a.useEffect)((function(){u({}),P()(e.error)||u(e.error.data.errors)}),[e.error]),Object(a.useEffect)((function(){return function(){e.clearErrors()}}),[]);var j=function(e){i(Object(O.a)(Object(O.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"xs",children:[Object(h.jsx)(v.a,{textAlign:"center",children:Object(h.jsx)(w.a,{component:"h1",variant:"h4",sx:{fontWeight:500},children:"Register"})}),Object(h.jsx)(v.a,{component:"form",autoComplete:"off",noValidate:!0,mt:4,onSubmit:function(n){n.preventDefault(),e.registerUser(c,t)},children:Object(h.jsxs)(I.a,{container:!0,justifyContent:"center",spacing:3,children:[Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,name:"username",label:"Username",value:c.username,onChange:j,error:!!l.username,helperText:l.username?l.username:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,name:"email",label:"Email",value:c.email,onChange:j,error:!!l.email,helperText:l.email?l.email:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"password",name:"password",label:"Password",value:c.password,onChange:j,error:!!l.password,helperText:l.password?l.password:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"password",name:"passwordConfirm",label:"Confirm Password",value:c.passwordConfirm,onChange:j,error:!!l.passwordConfirm,helperText:l.passwordConfirm?l.passwordConfirm:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(T.a,{type:"submit",fullWidth:!0,color:"primary",variant:"contained",size:"large",sx:{mt:2},children:"Register"})}),Object(h.jsxs)(I.a,{item:!0,xs:12,sx:{textAlign:"center"},children:[Object(h.jsx)(w.a,{component:"span",variant:"span",sx:{mr:1,opacity:.7},children:"Already have an account?"}),Object(h.jsx)(E.a,{component:o.b,to:"/auth/login",underline:"hover",children:"Login"})]})]})})]})})})),fe=n(231),Oe=n(161),ge=Object(d.b)((function(e){return{error:e.error}}),{loginUser:function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(r){var a,c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.post("/api/auth/login",e);case 3:a=n.sent,pe(a,r,t),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),c=n.t0.response.data.data,R(c.errors.message,n.t0.response.data.errorType),r(je(n.t0.response.data));case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},clearErrors:xe})((function(e){var t=Object(m.g)(),n=Object(a.useState)({usernameOrEmail:"",password:""}),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({}),d=Object(g.a)(s,2),l=d[0],u=d[1];Object(a.useEffect)((function(){u({}),P()(e.error)||u(e.error.data.errors)}),[e.error]),Object(a.useEffect)((function(){return function(){e.clearErrors()}}),[]);var j=function(e){i(Object(O.a)(Object(O.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"xs",children:[Object(h.jsx)(v.a,{textAlign:"center",children:Object(h.jsx)(w.a,{component:"h1",variant:"h4",sx:{fontWeight:500},children:"Login"})}),Object(h.jsx)(v.a,{component:"form",autoComplete:"off",noValidate:!0,mt:4,onSubmit:function(n){n.preventDefault(),e.loginUser(c,t)},children:Object(h.jsxs)(I.a,{container:!0,justifyContent:"center",spacing:3,children:[Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,name:"usernameOrEmail",label:"Username or Email",value:c.usernameOrEmail,onChange:j,error:!!l.usernameOrEmail,helperText:l.usernameOrEmail?l.usernameOrEmail:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"password",name:"password",label:"Password",value:c.password,onChange:j,error:!!l.password,helperText:l.password?l.password:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(fe.a,{control:Object(h.jsx)(Oe.a,{}),label:"Remember me"})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(T.a,{type:"submit",fullWidth:!0,color:"primary",variant:"contained",size:"large",sx:{mt:0},children:"Login"})}),Object(h.jsxs)(I.a,{item:!0,xs:12,sx:{textAlign:"center"},children:[Object(h.jsx)(w.a,{component:"span",variant:"span",sx:{mr:1,opacity:.7},children:"Don't have an account?"}),Object(h.jsx)(E.a,{component:o.b,to:"/auth/register",underline:"hover",children:"Register"})]})]})})]})})})),ve=n(314),ye=n(315),we=n(162),Ie=n(123),Ce=n(65),Te=n(306),Ee=n(154),Se=n(39),Pe=n(277),De=n(278),_e=n(279),Ae=n(280),Le=["title","titleId"];function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Re(e,t){var n=e.title,c=e.titleId,i=ke(e,Le);return a.createElement("svg",Ue({viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},i),n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("g",{"data-name":"Layer 21",id:"Layer_21"},a.createElement("path",{d:"M25.9,6.1A14,14,0,0,0,6.1,25.9,14,14,0,0,0,25.9,6.1ZM24.58,24.58A12.14,12.14,0,1,1,28.13,16,12.06,12.06,0,0,1,24.58,24.58Z"}),a.createElement("path",{d:"M18.37,14a.93.93,0,0,0,1.86,0V7.42a.86.86,0,0,0-.07-.36h0A.73.73,0,0,0,20,6.78h0l0,0h0a.73.73,0,0,0-.28-.19.86.86,0,0,0-.36-.07H12.7a.93.93,0,0,0,0,1.86h4.35L6.76,18.64a.94.94,0,0,0,0,1.32.94.94,0,0,0,1.32,0L18.37,9.67Z"}),a.createElement("path",{d:"M25.24,12a.94.94,0,0,0-1.32,0L13.63,22.33V18a.93.93,0,1,0-1.86,0v6.6a.93.93,0,0,0,.26.65h0l0,0h0a.93.93,0,0,0,.65.26h6.6a.93.93,0,0,0,0-1.86H15L25.24,13.36A.94.94,0,0,0,25.24,12Z"}))))}var Fe=a.forwardRef(Re),Ne=(n.p,Object(d.b)((function(e){return{auth:e.auth,userInfo:e.auth.userInfo}}),{logoutUser:function(){return function(e){localStorage.removeItem("jwt"),k(!1),e(me({})),e({type:N,payload:{}}),R("Logged out successfully","success")}}})((function(e){var t=Object(a.useState)(null),n=Object(g.a)(t,2),r=n[0],i=n[1],s=Boolean(r),d=function(){i(null)};return Object(h.jsx)(ve.a,{position:"fixed",children:Object(h.jsx)(y.a,{children:Object(h.jsxs)(ye.a,{disableGutters:!0,children:[Object(h.jsxs)(v.a,{sx:{flexGrow:1},children:[Object(h.jsx)(T.a,{color:"inherit",component:o.b,to:"/products",children:Object(h.jsx)(we.a,{component:Fe,viewBox:"0 0 32 32",fontSize:"large"})}),Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(T.a,{component:o.b,to:"/products",sx:{textTransform:"none",marginRight:{xs:0,sm:"1.4em"},marginLeft:{xs:0,sm:2}},color:"inherit",children:"Products"}),e.auth.isAuthenticated?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(T.a,{component:o.b,to:"/products/new",sx:{textTransform:"none",marginRight:{xs:0,sm:"1.4em"}},color:"inherit",children:"Add Product"}),Object(h.jsx)(T.a,{component:o.b,to:"/initiates",sx:{textTransform:"none",marginRight:{xs:0,sm:"1.4em"}},color:"inherit",children:"Initiates"}),Object(h.jsx)(T.a,{component:o.b,to:"/offers",sx:{textTransform:"none",marginRight:{xs:0,sm:"1.4em"}},color:"inherit",children:"Offers"})]}):null]})]}),Object(h.jsx)(v.a,{children:e.auth.isAuthenticated?Object(h.jsx)(Ie.a,{title:"My account",children:Object(h.jsx)(Ce.a,{onClick:function(e){i(e.currentTarget)},size:"small",children:Object(h.jsx)(Te.a,{alt:e.userInfo.username,src:"http://localhost:5000/"+e.userInfo.profileImage,sx:{bgcolor:"#FF5F5F",height:"35px",width:"35px"}})})}):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(T.a,{component:o.b,to:"/auth/register",sx:{textTransform:"none"},color:"inherit",children:"Register"}),Object(h.jsx)(T.a,{component:o.b,to:"/auth/login",sx:{textTransform:"none",marginLeft:{xs:0,sm:"2em"}},color:"inherit",children:"Login"})]})}),e.auth.isAuthenticated?Object(h.jsxs)(Ee.a,{anchorEl:r,open:s,onClick:d,onClose:d,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(h.jsxs)(Se.a,{component:o.b,to:"/profile",children:[Object(h.jsx)(Pe.a,{fontSize:"small",sx:{mr:1}}),"My Profile"]}),Object(h.jsxs)(Se.a,{component:o.b,to:"/favorites",children:[Object(h.jsx)(De.a,{fontSize:"small",sx:{mr:1}}),"My Favorites"]}),"admin"===e.auth.userInfo.role?Object(h.jsxs)(Se.a,{component:o.b,to:"/admin",children:[Object(h.jsx)(_e.a,{fontSize:"small",sx:{mr:1}}),"Admin Page"]}):null,Object(h.jsxs)(Se.a,{onClick:e.logoutUser,children:[Object(h.jsx)(Ae.a,{fontSize:"small",sx:{mr:1}}),"Logout"]})]}):null]})})})}))),Me=n(94),ze=n(121),We=n(110),Ye=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.post("/api/products/favorite",e);case 3:r=t.sent,R(r.data.data.message,"success"),n({type:H,payload:r.data.data.user.favorites}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(je(t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Be=function(){return{type:q}},Ge=Object(d.b)((function(e){return{error:e.error}}),{createNewProduct:function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(r){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.post("/api/products/create",e,{header:{"Content-Type":"multipart/form-data"}});case 3:a=n.sent,r({type:B,payload:a.data.data.newProduct}),R("New product created","success"),t("/products",{replace:!0}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(je(n.t0.response.data));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},clearErrors:xe})((function(e){var t=Object(m.g)(),n=Object(a.useState)({productName:"",productKind:"",condition:"",usedFor:"",usedForType:"Months",warranty:"",expiresIn:"",expiresInType:"Days",additionals:"",exchangeWith:"",description:"",productImages:[]}),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({}),o=Object(g.a)(s,2),d=o[0],l=o[1];Object(a.useEffect)((function(){l({}),P()(e.error)||l(e.error.data.errors)}),[e.error]),Object(a.useEffect)((function(){return function(){e.clearErrors()}}),[]);var u=function(e){"productImages"===e.target.name?i(Object(O.a)(Object(O.a)({},c),{},Object(f.a)({},e.target.name,e.target.files))):i(Object(O.a)(Object(O.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(v.a,{mt:2,component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(n){n.preventDefault();var r=new FormData;Object.keys(c).forEach((function(e){if("productImages"===e)for(var t=0;t<c.productImages.length;t++)r.append("productImages",c.productImages[t]);else r.append([e],c[e])})),e.createNewProduct(r,t)},encType:"multipart/form-data",children:Object(h.jsxs)(I.a,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsx)(C.a,{fullWidth:!0,label:"Product name",variant:"standard",name:"productName",value:c.productName,onChange:u,error:!!d.productName,helperText:d.productName?d.productName:null})}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsx)(C.a,{fullWidth:!0,label:"Product kind",variant:"standard",name:"productKind",value:c.productKind,onChange:u,error:!!d.productKind,helperText:d.productKind?d.productKind:null})}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)(I.a,{item:!0,xs:4,children:Object(h.jsxs)(Me.a,{sx:{width:"100%",marginRight:0},variant:"outlined",children:[Object(h.jsx)(ze.a,{id:"condition-select-label",children:"Condition"}),Object(h.jsxs)(We.a,{labelId:"condition-select-label",defaultValue:"",label:"Condition",name:"condition",value:c.condition,onChange:u,error:!!d.condition,children:[Object(h.jsx)(Se.a,{value:"Brand New",children:"Brand New"}),Object(h.jsx)(Se.a,{value:"Lightly Used",children:"Lightly Used"}),Object(h.jsx)(Se.a,{value:"Heavily Used",children:"Heavily Used"})]})]})}),Object(h.jsxs)(I.a,{item:!0,xs:7,sx:{display:"flex",justifyContent:"flex-end"},children:[Object(h.jsx)(C.a,{sx:{width:"35%",marginRight:2},label:"Used For",variant:"standard",name:"usedFor",value:c.usedFor,onChange:u,error:!!d.usedFor,helperText:d.usedFor?d.usedFor:null}),Object(h.jsxs)(Me.a,{sx:{width:"36%"},variant:"standard",children:[Object(h.jsx)(ze.a,{id:"used-select-label",children:"Length"}),Object(h.jsxs)(We.a,{defaultValue:"Months",labelId:"used-select-label",label:"Used For",name:"usedForType",value:c.usedForType,onChange:u,children:[Object(h.jsx)(Se.a,{value:"Months",children:"Months"}),Object(h.jsx)(Se.a,{value:"Years",children:"Years"})]})]})]})]})}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)(I.a,{item:!0,xs:4,children:Object(h.jsxs)(Me.a,{sx:{width:"100%",marginRight:8},variant:"outlined",children:[Object(h.jsx)(ze.a,{id:"warranty-select-label",children:"Warranty"}),Object(h.jsxs)(We.a,{labelId:"warranty-select-label",defaultValue:"",label:"Warranty",name:"warranty",value:c.warranty,onChange:u,error:!!d.warranty,children:[Object(h.jsx)(Se.a,{value:"Yes",children:"Yes"}),Object(h.jsx)(Se.a,{value:"No",children:"No"})]})]})}),Object(h.jsxs)(I.a,{item:!0,xs:7,sx:{display:"flex",justifyContent:"flex-end"},children:[Object(h.jsx)(C.a,{sx:{width:"35%",marginRight:2},label:"Expires In",variant:"standard",name:"expiresIn",value:c.expiresIn,onChange:u,error:!!d.expiresIn,helperText:d.expiresIn?d.expiresIn:null}),Object(h.jsxs)(Me.a,{sx:{width:"36%"},variant:"standard",children:[Object(h.jsx)(ze.a,{id:"expires-select-label",children:"Length"}),Object(h.jsxs)(We.a,{defaultValue:"Months",labelId:"expires-select-label",label:"Expires In",name:"expiresInType",value:c.expiresInType,onChange:u,children:[Object(h.jsx)(Se.a,{value:"Days",children:"Days"}),Object(h.jsx)(Se.a,{value:"Months",children:"Months"})]})]})]})]})}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsx)(C.a,{fullWidth:!0,label:"Additionals",variant:"standard",name:"additionals",value:c.additionals,onChange:u})}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsx)(C.a,{fullWidth:!0,label:"Exchange With",variant:"standard",name:"exchangeWith",value:c.exchangeWith,onChange:u,error:!!d.exchangeWith,helperText:d.exchangeWith?d.exchangeWith:null})}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:Object(h.jsx)(C.a,{multiline:!0,fullWidth:!0,rows:3,label:"Description",variant:"standard",name:"description",value:c.description,onChange:u,error:!!d.description,helperText:d.description?d.description:null})}),Object(h.jsxs)(I.a,{item:!0,xs:10,sx:{marginBottom:2},children:[Object(h.jsx)("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",name:"productImages",onChange:u}),Object(h.jsx)("label",{htmlFor:"raised-button-file",children:Object(h.jsx)(T.a,{variant:"outlined",component:"span",sx:{textTransform:"none"},children:"Upload minimum 3 images"})}),d.productImages?Object(h.jsx)("p",{style:{color:"#FF5F5F",fontSize:"0.8em",marginTop:"4px"},children:d.productImages}):null]}),Object(h.jsx)(I.a,{item:!0,xs:10,sx:{marginBottom:6},children:Object(h.jsx)(T.a,{type:"submit",variant:"contained",size:"large",children:"Create"})})]})})})),qe=function(e){return Object(h.jsx)(v.a,{mt:11,children:Object(h.jsx)(y.a,{maxWidth:"lg",children:Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(I.a,{item:!0,xs:12,sm:7,children:Object(h.jsx)(w.a,{variant:"h5",children:"Create new product"})}),Object(h.jsx)(I.a,{item:!0,xs:12,sm:10,md:7,children:Object(h.jsx)(Ge,{})})]})})})},Ve=n(282),He=n(300),Ke=n(26),Qe=n.n(Ke),Ze=n(316),Xe=n(317),Je=n(318),$e=n(281),et=Object(d.b)((function(e){return{userFavorites:e.auth.userInfo.favorites}}),{favoriteProduct:Ye})((function(e){return Object(h.jsx)(v.a,{children:Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:"200",image:"http://localhost:5000/"+e.product.images[0].url,alt:e.product.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",children:e.product.name})}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.product.owner.name,src:"http://localhost:5000/"+e.product.owner.profileImage,sx:{bgcolor:"#6325A9"}}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(w.a,{variant:"p",children:e.product.owner.username}),Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",fontSize:"0.81em"},children:Qe()(e.product.postedAt).format("MMM Do YYYY, h:mm a")})]})]}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"60px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em",height:"60px"},children:e.product.description.length>101?e.product.description.slice(0,102)+" ...":e.product.description})}),Object(h.jsxs)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:[e.product.owner._id!==e.currentUserInfo._id?Object(h.jsx)(T.a,{size:"large",variant:"outlined",color:"secondary",sx:{textTransform:"none",marginRight:2},onClick:function(){var t={productId:e.product._id,productOwnerId:e.product.owner._id};e.favoriteProduct(t)},children:e.userFavorites&&e.userFavorites.some((function(t){return t.product===e.product._id}))?"Unfavorite":"Favorite"}):null,Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(e.product._id),size:"large",variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})]})]})]})})})),tt=function(e){var t=e.products.map((function(t){return Object(h.jsx)(I.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsx)(et,{product:t,currentUserInfo:e.currentUserInfo})},t._id)}));return Object(h.jsx)(v.a,{mt:5,children:Object(h.jsx)(I.a,{container:!0,spacing:5,children:t})})},nt=function(e){return Object(h.jsx)(v.a,{children:Object(h.jsx)(v.a,{component:"form",children:Object(h.jsx)(I.a,{container:!0,sx:{display:"flex",justifyContent:"center",alignItems:"end"},children:Object(h.jsx)(I.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsx)(C.a,{fullWidth:!0,variant:"standard",label:"Search For Something",name:"searchText",value:e.searchText,onChange:e.onSearchTextChange})})})})})},rt=(n(214),function(){return Object(h.jsxs)("div",{className:"lds-ring",style:{marginLeft:"40%"},children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})}),at=Object(d.b)((function(e){return{products:Object.values(e.product.products),productsLoading:e.product.productsLoading,currentUserInfo:e.auth.userInfo}}),{getProducts:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Be()),e.prev=1,e.next=4,U.get("/api/products");case 4:n=e.sent,t({type:G,payload:n.data.data.products}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t,n=Object(a.useState)(1),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),o=Object(g.a)(s,2),d=o[0],l=o[1];if(Object(a.useEffect)((function(){e.getProducts()}),[]),e.productsLoading)t=Object(h.jsx)(rt,{});else if(0===e.products.length)t=Object(h.jsx)("p",{children:"No products found"});else if(""===d){var u=9*(c-1),j=u+9;t=Object(h.jsx)(tt,{products:e.products.slice(u,j),currentUserInfo:e.currentUserInfo})}else{var x=e.products.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())||e.details.kind.some((function(e){return e.toLowerCase().includes(d.toLowerCase())}))}));t=Object(h.jsx)(tt,{products:x,currentUserInfo:e.currentUserInfo})}return Object(h.jsx)(v.a,{mt:11,mb:8,children:Object(h.jsxs)(y.a,{maxWidth:"lg",children:[Object(h.jsx)(nt,{searchText:d,onSearchTextChange:function(e){l(e.target.value)}}),t,Object(h.jsx)(Ve.a,{mt:6,children:Object(h.jsx)(He.a,{size:"large",count:10,color:"info",page:c,onChange:function(e,t){i(t)},sx:{margin:"0 auto"}})})]})})})),ct=n(38),it=n(307);function st(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var ot,dt=function(e){var t=function(){var e=Object(a.useState)(st()),t=Object(g.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(st())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,n=Object(ct.a)(),r=(t>=n.breakpoints.values.md?e.images.slice(0,3):t>=n.breakpoints.values.sm?e.images.slice(0,2):e.images.slice(0,1)).slice(0,3).map((function(e){return Object(h.jsx)(it.a,{children:Object(h.jsx)("img",{src:"http://localhost:5000/"+e.url,alt:e._id,loading:"lazy"})},e._id)}));return Object(h.jsx)(v.a,{mt:3,sx:{display:"grid",gridTemplateColumns:{xs:"repeat(1,1fr)",sm:"repeat(2,1fr)",md:"repeat(3,1fr)",lg:"repeat(3,1fr)"}},children:r})},lt=n(287),ut=n(283),jt=n(284),xt=n(285),pt=n(286),mt=function(e){var t=e.icon;return Object(h.jsx)(I.a,{item:!0,xs:6,children:Object(h.jsx)(Ze.a,{variant:"outlined",sx:{borderRadius:"6px"},children:Object(h.jsxs)(Je.a,{sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(Te.a,{sx:{height:"30px",width:"30px",bgcolor:"#6325A9"},children:Object(h.jsx)(t,{fontSize:"small"})})}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column",fontSize:"0.9em"},children:[Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",marginBottom:1},children:e.title}),Object(h.jsx)(w.a,{variant:"p",children:Object(h.jsx)(o.b,{style:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},to:"#",onClick:e.onClick,children:e.value})})]})]})})})},ht=function(e){var t;return Object(h.jsxs)(v.a,{children:[Object(h.jsx)(w.a,{mt:2,variant:"h6",sx:{fontWeight:500},children:"Exchanger Details"}),Object(h.jsxs)(I.a,{container:!0,mt:0,spacing:1,children:[Object(h.jsx)(mt,{title:"Contact",value:e.owner.phone,icon:ut.a,onClick:function(t){t.preventDefault(),window.location="tel:+977-".concat(e.owner.phone)}}),Object(h.jsx)(mt,{title:"Email",value:e.owner.email,icon:jt.a,onClick:function(t){t.preventDefault(),window.location="mailto:".concat(e.owner.email)}}),Object(h.jsx)(mt,{title:"Location",value:e.owner.location,icon:xt.a}),Object(h.jsx)(mt,{title:"Reputation",value:(t=e.owner.reputation,t>=0&&t<=30?Object(h.jsx)("p",{style:{color:"#FF5F5F"},children:"Bad [".concat(t,"]")}):t>=31&&t<=60?Object(h.jsx)("p",{style:{color:"#70beb4"},children:"Average [".concat(t,"]")}):Object(h.jsx)("p",{style:{color:"#109382"},children:"Good [".concat(t,"]")})),icon:pt.a})]})]})},bt=Object(d.b)(null,{deleteProduct:function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(r){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.delete("/api/products/".concat(e));case 3:R("Product deleted","success"),t("/products",{replace:!0}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r(je(n.t0.response.data));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},reportProduct:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.post("/api/products/report/".concat(e));case 3:r=t.sent,n({type:V,payload:r.data.data.product}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(je(t.t0.response.data));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(m.g)();return Object(h.jsxs)(v.a,{sx:{marginBottom:2},children:[Object(h.jsxs)(w.a,{color:"primary",variant:"h5",sx:{fontWeight:600},children:[e.product.name,e.product.owner._id===e.currentUserInfo._id?Object(h.jsx)(T.a,{variant:"contained",color:"secondary",size:"small",sx:{textTransform:"none",marginLeft:2},onClick:function(){return e.deleteProduct(e.product._id,t)},children:"Delete"}):Object(h.jsx)(T.a,{variant:"contained",color:"info",size:"small",sx:{textTransform:"none",marginLeft:2},onClick:function(){return e.reportProduct(e.product._id)},children:"Report"})]}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.product.owner.username,src:"http://localhost:5000/"+e.product.owner.profileImage,sx:{marginRight:2,height:"35px",width:"35px",bgcolor:"#6325A9"}}),Object(h.jsx)(w.a,{variant:"h6",sx:{fontWeight:400},children:e.product.owner.username}),Object(h.jsxs)(w.a,{variant:"p",sx:{opacity:"70%",fontSize:"0.9em",marginLeft:2},children:["| \xa0\xa0\xa0",Qe()(e.product.postedAt).format("MMM Do YYYY, h:mm a")]})]}),Object(h.jsx)(lt.a,{sx:{marginTop:2,marginBottom:2}}),Object(h.jsxs)(v.a,{children:[Object(h.jsx)(w.a,{mb:1,variant:"h6",sx:{fontWeight:500},children:"Description"}),Object(h.jsx)(w.a,{variant:"p",sx:{lineHeight:"1.5"},children:e.product.description})]}),Object(h.jsx)(ht,{owner:e.product.owner})]})})),ft=n(289),Ot=n(290),gt=n(291),vt=n(319),yt=n(320),wt=n(288),It=n(321),Ct=function(e){return Object(h.jsx)(T.a,{size:"small",variant:"outlined",onClick:e.onExchangeItemSelect,sx:{width:"90%",textAlign:"center",marginLeft:"auto",marginRight:"auto",marginBottom:2},style:{border:"2px solid"},children:Object(h.jsx)(vt.a,{children:Object(h.jsx)(v.a,{children:Object(h.jsx)(Ze.a,{children:Object(h.jsxs)(I.a,{container:!0,children:[Object(h.jsx)(I.a,{item:!0,xs:5,children:Object(h.jsx)(Xe.a,{component:"img",image:"http://localhost:5000/"+e.product.images[0].url,alt:e.product.name})}),Object(h.jsx)(I.a,{item:!0,xs:7,children:Object(h.jsx)(Je.a,{children:Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"1.1em"},children:e.product.name})})})})]})})})})})},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var n=Object(A.a)(_.a.mark((function n(r){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.post("/api/exchange/create",e);case 3:r(St()),3===Object.keys(e).length?(R("Exchange Initiated","success"),t()):R("Exchange cancelled","success"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},Et=function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Dt()),e.prev=1,e.next=4,U.get("/api/exchange/my-products");case 4:n=e.sent,t({type:Z,payload:n.data.data.myProducts}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},St=function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(At()),e.prev=1,e.next=4,U.get("/api/exchange/my-initiates");case 4:n=e.sent,t({type:J,payload:n.data.data.myInitiates}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Pt=function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Lt()),e.prev=1,e.next=4,U.get("/api/exchange/my-offers");case 4:n=e.sent,t({type:$,payload:n.data.data.myOffers}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(je(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Dt=function(){return{type:ee}},_t=function(){return{type:te}},At=function(){return{type:ne}},Lt=function(){return{type:re}},Ut=Object(d.b)((function(e){return{myProductsLoading:e.exchange.myProductsLoading,myProducts:Object.values(e.exchange.myProducts),productId:e.product.product._id,productOwner:e.product.product.owner._id}}),{createNewExchange:Tt})((function(e){var t;return t=e.myProductsLoading?Object(h.jsx)(rt,{}):P()(e.myProducts)?Object(h.jsx)(vt.a,{children:"You do not have any items"}):e.myProducts.map((function(t){return Object(h.jsx)(Ct,{onExchangeItemSelect:function(){return function(t){var n={productGiven:t,productWanted:e.productId,productOwner:e.productOwner};e.createNewExchange(n,e.handleClose)}(t._id)},product:t},t._id)})),Object(h.jsxs)(yt.a,{open:e.open,onClose:e.handleClose,maxWidth:"xs",fullWidth:!0,children:[Object(h.jsx)(wt.a,{children:"Select your product"}),t,Object(h.jsx)(It.a,{})]})})),kt=Object(d.b)((function(e){return{productId:e.product.product._id,productOwnerId:e.product.product.owner._id,userId:e.auth.user.id,userFavorites:e.auth.userInfo.favorites,isAuthenticated:e.auth.isAuthenticated,myInitiates:e.exchange.myInitiates}}),{favoriteProduct:Ye,getMyProducts:Et,createNewExchange:Tt})((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],s=function(t){t.preventDefault(),e.isAuthenticated?(i(!0),e.getMyProducts()):R("You are not logged in","error")},o=function(t){if(t.preventDefault(),e.isAuthenticated){var n={productWanted:e.productId};e.createNewExchange(n)}else R("You are not logged in","error")};return Object(h.jsxs)(v.a,{mb:6,sx:{display:"flex",justifyContent:"flex-end"},children:[e.myInitiates&&e.myInitiates.some((function(t){return t.initiator.some((function(n){return n.initiatorId===e.userId&&t.productWanted._id===e.productId}))}))?Object(h.jsxs)(T.a,{onClick:o,variant:"contained",size:"large",sx:{textTransform:"none",marginRight:2},children:[Object(h.jsx)(gt.a,{sx:{marginRight:1}}),"Cancel"]}):Object(h.jsx)(T.a,{onClick:s,variant:"contained",size:"large",sx:{textTransform:"none",marginRight:2},children:Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(gt.a,{sx:{marginRight:1}}),"Exchange"]})}),Object(h.jsx)(T.a,{variant:"contained",size:"large",color:"secondary",sx:{textTransform:"none"},onClick:function(){var t={productId:e.productId,productOwnerId:e.productOwnerId};e.favoriteProduct(t)},children:e.userFavorites&&e.userFavorites.some((function(t){return t.product===e.productId}))?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(ft.a,{sx:{marginRight:1}}),"Unfavorite"]}):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(Ot.a,{sx:{marginRight:1}}),"Favorite"]})}),Object(h.jsx)(Ut,{open:r,handleClose:function(){i(!1)}})]})})),Rt=function(e){var t,n;return t="object"===typeof e.value?e.value.map((function(e){return Object(h.jsx)(T.a,{color:"info",variant:"outlined",size:"small",sx:{textTransform:"none",marginRight:2,fontSize:"0.9em"},children:e},e)})):Object(h.jsx)(T.a,{color:"info",variant:"text",size:"small",sx:{textTransform:"none",marginRight:2,fontSize:"0.9em"},children:"expiresIn"===e.title?function(){var t=new Qe.a(e.value),n=new Qe.a,r=Qe.a.duration(t.diff(n)).as("days");return r<1?"".concat(Math.floor(Qe.a.duration(t.diff(n)).as("hours"))," hours"):"".concat(Math.floor(r)," days")}():e.value}),Object(h.jsxs)(v.a,{mb:2,children:[Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%"},children:(n=e.title,(n=(n=n.replace(/([A-Z])/g," $1")).charAt(0).toUpperCase()+n.slice(1))+"  :")}),Object(h.jsx)(w.a,{variant:"p",ml:2,children:t})]})},Ft=function(e){var t,n=Object.keys(e.product.details).map((function(t){return Object(h.jsx)(Rt,{title:t,value:e.product.details[t]},t)}));return t=e.currentUserInfo._id===e.product.owner._id?null:Object(h.jsx)(kt,{}),Object(h.jsxs)(v.a,{children:[t,Object(h.jsx)(Ze.a,{variant:"outlined",sx:{borderRadius:"6px"},children:Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(w.a,{mb:3,variant:"h6",sx:{fontWeight:500},children:"Details"}),n]})})]})},Nt=function(e){return Object(h.jsxs)(I.a,{container:!0,mt:4,sx:{justifyContent:"space-between"},children:[Object(h.jsx)(I.a,{item:!0,xs:12,sm:12,md:6,children:Object(h.jsx)(bt,{product:e.product,currentUserInfo:e.currentUserInfo})}),Object(h.jsx)(I.a,{item:!0,xs:12,sm:12,md:5,children:Object(h.jsx)(Ft,{product:e.product,currentUserInfo:e.currentUserInfo})})]})},Mt=Object(d.b)((function(e){return{userId:e.auth.user.id,productOwner:e.product.product.owner._id}}))((function(e){var t;return e.userId===e.productOwner&&(t=Object(h.jsx)(T.a,{size:"small",variant:"outlined",sx:{marginLeft:2,textTransform:"none"},onClick:function(t){return e.handleClickOpen(t,e.question._id)},children:"Answer"})),Object(h.jsxs)(v.a,{mb:3,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsxs)(w.a,{variant:"p",sx:{fontSize:"1.07em",marginBottom:1},children:["Q: "+e.question.ques,t]}),Object(h.jsx)(w.a,{variant:"p",children:e.question.ans?"A: ".concat(e.question.ans):null})]})})),zt=Object(d.b)((function(e){return{productId:e.product.product._id,error:e.error}}),{createNewQuestion:function(e,t,n){return function(){var r=Object(A.a)(_.a.mark((function r(a){var c;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,U.post("/api/products/".concat(e,"/question"),t);case 3:c=r.sent,a(xe()),a({type:K,payload:c.data.data.product.questions}),R("Question added","success"),n({question:""}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a(je(r.t0.response.data));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},clearErrors:xe})((function(e){var t=Object(a.useState)({question:""}),n=Object(g.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({}),o=Object(g.a)(s,2),d=o[0],l=o[1];Object(a.useEffect)((function(){l({}),P()(e.error)||l(e.error.data.errors)}),[e.error]),Object(a.useEffect)((function(){return function(){e.clearErrors()}}),[]);return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(w.a,{variant:"p",children:"Ask the questions related to the product here."}),Object(h.jsx)(v.a,{component:"form",onSubmit:function(t){t.preventDefault(),e.createNewQuestion(e.productId,r,i),i({question:""})},noValidate:!0,autoComplete:"off",mt:2,children:Object(h.jsxs)(I.a,{container:!0,children:[Object(h.jsx)(I.a,{item:!0,xs:12,sm:12,md:10,children:Object(h.jsx)(C.a,{name:"question",value:r.question,onChange:function(e){i(Object(O.a)(Object(O.a)({},r),{},Object(f.a)({},e.target.name,e.target.value)))},fullWidth:!0,label:"Your Question",variant:"standard",error:!!d.question,helperText:d.question?d.question:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,mt:2,children:Object(h.jsx)(T.a,{type:"submit",color:"primary",variant:"contained",children:"Ask"})})]})})]})})),Wt=Object(d.b)((function(e){return{productId:e.product.product._id,error:e.error}}),{createNewAnswer:function(e,t,n,r){return function(){var a=Object(A.a)(_.a.mark((function a(c){var i;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,U.post("/api/products/".concat(e,"/").concat(t,"/answer"),n);case 3:i=a.sent,c(xe()),c({type:Q,payload:i.data.data.product.questions}),r(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),c(je(a.t0.response.data));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},clearErrors:xe})((function(e){var t=Object(a.useState)({answer:""}),n=Object(g.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)({}),s=Object(g.a)(i,2),o=s[0],d=s[1];Object(a.useEffect)((function(){d({}),P()(e.error)||d(e.error.data.errors)}),[e.error]),Object(a.useEffect)((function(){return function(){e.clearErrors()}}),[]);return Object(h.jsx)(v.a,{children:Object(h.jsxs)(yt.a,{component:"form",open:e.open,onClose:e.handleClose,onSubmit:function(t){t.preventDefault(),e.createNewAnswer(e.productId,e.questionId,r,e.handleClose)},noValidate:!0,autoComplete:"off",children:[Object(h.jsx)(wt.a,{children:"Your Answer"}),Object(h.jsx)(vt.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,margin:"dense",id:"name",label:"Answer",fullWidth:!0,variant:"standard",name:"answer",sx:{width:{xs:300,sm:500}},value:r.answer,onChange:function(e){c(Object(O.a)(Object(O.a)({},r),{},Object(f.a)({},e.target.name,e.target.value)))},error:!!o.answer,helperText:o.answer?o.answer:null})}),Object(h.jsx)(It.a,{children:Object(h.jsx)(T.a,{type:"submit",sx:{marginBottom:1},children:"Post Answer"})})]})})})),Yt=function(e){var t,n=Object(a.useState)(!1),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(null),o=Object(g.a)(s,2),d=o[0],l=o[1],u=function(e,t){e.preventDefault(),l(t),i(!0)};return t=0===e.questions.length?Object(h.jsx)("h5",{children:"No questions to show"}):e.questions.map((function(e){return Object(h.jsx)(Mt,{question:e,handleClickOpen:u},e._id)})),Object(h.jsx)(v.a,{mt:4,mb:18,sx:{borderRadius:"8px"},children:Object(h.jsxs)(Ze.a,{children:[Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(w.a,{variant:"h5",sx:{fontWeight:"600",marginBottom:2},children:"Product Discussion"}),Object(h.jsx)(zt,{}),Object(h.jsxs)(v.a,{mt:4,children:[Object(h.jsx)(w.a,{variant:"h6",sx:{marginBottom:2},children:"Previously asked questions"}),t]})]}),Object(h.jsx)(Wt,{open:c,handleClose:function(){i(!1)},questionId:d})]})})},Bt=Object(d.b)((function(e){return{product:e.product.product,currentUserInfo:e.auth.userInfo}}),{getProduct:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.get("/api/products/".concat(e));case 3:r=t.sent,n({type:V,payload:r.data.data.product}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getMyInitiates:St})((function(e){var t,n=Object(m.h)().productId;return Object(a.useEffect)((function(){e.getMyInitiates(),e.getProduct(n)}),[]),t=P()(e.product)?Object(h.jsx)(rt,{}):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(dt,{images:e.product.images}),Object(h.jsx)(Nt,{product:e.product,currentUserInfo:e.currentUserInfo}),Object(h.jsx)(Yt,{questions:e.product.questions})]}),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsx)(y.a,{maxWidth:"lg",children:t})})})),Gt=n(292),qt=function(e){var t;return Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex"},children:[Object(h.jsx)(I.a,{item:!0,xs:12,sm:3,md:2,sx:{marginRight:3},children:Object(h.jsx)(Te.a,{variant:"rounded",alt:e.userInfo.username,src:"http://localhost:5000/"+e.userInfo.profileImage,sx:{width:{xs:140,sm:160},height:{xs:140,sm:160}}})}),Object(h.jsxs)(I.a,{mt:2,xs:12,sm:8,item:!0,children:[Object(h.jsx)(w.a,{variant:"h4",sx:{fontWeight:"600"},children:e.userInfo.username}),Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",marginTop:4},children:[Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column",marginRight:4},children:[Object(h.jsxs)(w.a,{variant:"p",sx:{display:"flex",alignItems:"center",marginBottom:2},children:[Object(h.jsx)(jt.a,{sx:{color:"#6325A9",marginRight:1}}),Object(h.jsx)(w.a,{variant:"p",children:Object(h.jsx)(o.b,{style:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},to:"#",onClick:function(t){window.location="mailto:".concat(e.userInfo.email),t.preventDefault()},children:e.userInfo.email})})]}),Object(h.jsxs)(w.a,{variant:"p",sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(ut.a,{sx:{color:"#6325A9",marginRight:1}}),Object(h.jsx)(w.a,{variant:"p",children:Object(h.jsx)(o.b,{style:{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},to:"#",onClick:function(t){window.location="tel:+977-".concat(e.userInfo.phone),t.preventDefault()},children:e.userInfo.phone})})]})]}),Object(h.jsxs)(v.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsxs)(w.a,{variant:"p",sx:{display:"flex",alignItems:"center",marginBottom:2},children:[Object(h.jsx)(Gt.a,{sx:{color:"#6325A9",marginRight:1}}),Object(h.jsx)(w.a,{variant:"p",children:e.userInfo.location})]}),Object(h.jsxs)(w.a,{variant:"p",sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(pt.a,{sx:{color:"#6325A9",marginRight:1}}),Object(h.jsx)(w.a,{variant:"p",children:(t=e.userInfo.reputation,t>=0&&t<=30?Object(h.jsx)("p",{style:{color:"#FF5F5F"},children:"Bad [".concat(t,"]")}):t>=31&&t<=60?Object(h.jsx)("p",{style:{color:"#70beb4"},children:"Average [".concat(t,"]")}):Object(h.jsx)("p",{style:{color:"#109382"},children:"Good [".concat(t,"]")}))})]})]})]})]}),Object(h.jsx)(I.a,{item:!0,mt:2,children:Object(h.jsx)(T.a,{component:o.b,to:"/profile/edit",color:"info",variant:"contained",sx:{textTransform:"none"},children:"Edit Profile"})})]})},Vt=function(e){return Object(h.jsx)(v.a,{children:Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:"180",image:"http://localhost:5000/"+e.product.images[0].url,alt:e.product.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",children:e.product.name})}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"60px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em"},children:e.product.description.length>101?e.product.description.slice(0,102)+" ...":e.product.description})}),Object(h.jsx)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(e.product._id),variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})})]})]})})},Ht=function(e){var t=e.myProducts.map((function(e){return Object(h.jsx)(I.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsx)(Vt,{product:e})},e._id)}));return Object(h.jsxs)(v.a,{mt:5,children:[Object(h.jsx)(w.a,{mt:3,mb:3,variant:"h5",sx:{fontWeight:500},children:"My Products"}),Object(h.jsx)(I.a,{container:!0,spacing:5,mb:6,children:t})]})},Kt=n(302),Qt=function(e){var t=e.reviews.map((function(e){return Object(h.jsx)(v.a,{mt:2,children:Object(h.jsx)(v.a,{component:"form",noValidate:!0,autoComplete:"off",children:Object(h.jsxs)(v.a,{children:[Object(h.jsx)(w.a,{variant:"h6",children:e.reviewText?e.reviewText:null}),Object(h.jsx)(Kt.a,{name:"reviewNumber",value:Number(e.reviewNumber),max:10}),Object(h.jsx)(w.a,{variant:"p",sx:{display:"block",opacity:"0.9"},children:Qe()(e.reviewedAt).format("MMM Do YYYY, h:mm a")})]})})},e._id)}));return Object(h.jsxs)(v.a,{mt:1,mb:7,children:[Object(h.jsx)(w.a,{mt:2,mb:3,variant:"h5",sx:{fontWeight:500},children:"Received Reviews"}),t]})},Zt=Object(d.b)((function(e){return{userLoading:e.auth.userLoading,userInfo:e.auth.userInfo,userInfoLoading:e.auth.userInfoLoading,myProducts:Object.values(e.exchange.myProducts),myProductsLoading:e.exchange.myProductsLoading}}),{getMyProducts:Et})((function(e){var t;return Object(a.useEffect)((function(){e.getMyProducts()}),[]),t=e.userLoading||e.userInfoLoading||e.myProductsLoading?Object(h.jsx)(rt,{}):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(qt,{userInfo:e.userInfo}),Object(h.jsx)(Ht,{myProducts:e.myProducts}),Object(h.jsx)(Qt,{reviews:e.userInfo.reviews})]}),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsx)(y.a,{maxWidth:"lg",children:t})})})),Xt=function(e){var t=Object(m.g)(),n=Object(a.useState)({username:"",email:"",password:"",passwordConfirm:"",location:"",phone:"",profileImage:"",userImage:[]}),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)({}),o=Object(g.a)(s,2),d=o[0],l=o[1];Object(a.useEffect)((function(){l({}),P()(e.error)||l(e.error.data.errors)}),[e.error]),Object(a.useEffect)((function(){var t={};return Object.keys(c).forEach((function(n){P()(e.userInfo[n])||(t[n]=e.userInfo[n])})),i(Object(O.a)(Object(O.a)({},c),t)),function(){e.clearErrors()}}),[e.userInfo]);var u=function(e){"userImage"===e.target.name?i(Object(O.a)(Object(O.a)({},c),{},Object(f.a)({},e.target.name,e.target.files[0]))):i(Object(O.a)(Object(O.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)(v.a,{component:"form",autoComplete:"off",noValidate:!0,mt:2,onSubmit:function(n){n.preventDefault();var r=new FormData;Object.keys(c).forEach((function(e){"userImage"===e?r.append("userImage",c.userImage):r.append([e],c[e])})),e.updateUserProfile(r,t)},encType:"multipart/form-data",children:[Object(h.jsx)(Te.a,{alt:e.userInfo.username,src:"http://localhost:5000/"+c.profileImage,sx:{width:140,height:140,marginBottom:1,marginRight:"auto",marginLeft:"auto"}}),Object(h.jsxs)(v.a,{textAlign:"center",children:[Object(h.jsx)("input",{accept:"image/*",style:{display:"none"},id:"profile-upload-button",type:"file",name:"userImage",onChange:u}),Object(h.jsx)("label",{htmlFor:"profile-upload-button",children:Object(h.jsx)(T.a,{variant:"outlined",component:"span",color:"info",size:"small",sx:{textTransform:"none"},children:"Upload New Avatar"})})]}),Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",justifyContent:"space-between",marginTop:2},children:[Object(h.jsx)(I.a,{item:!0,xs:5,children:Object(h.jsxs)(I.a,{container:!0,spacing:3,children:[Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,name:"username",label:"New Username",value:c.username,onChange:u,error:!!d.username,helperText:d.username?d.username:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"password",name:"password",label:"New Password",value:c.password,onChange:u,error:!!d.password,helperText:d.password?d.password:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"password",name:"passwordConfirm",label:"New Confirm Password",value:c.passwordConfirm,onChange:u,error:!!d.passwordConfirm,helperText:d.passwordConfirm?d.passwordConfirm:null})})]})}),Object(h.jsx)(I.a,{item:!0,xs:5,children:Object(h.jsxs)(I.a,{container:!0,spacing:3,children:[Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,name:"email",label:"New Email",value:c.email,onChange:u,error:!!d.email,helperText:d.email?d.email:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"text",name:"location",label:"New Location",value:c.location,onChange:u,error:!!d.location,helperText:d.location?d.location:null})}),Object(h.jsx)(I.a,{item:!0,xs:12,children:Object(h.jsx)(C.a,{fullWidth:!0,type:"text",name:"phone",label:"New Phone",value:c.phone,onChange:u,error:!!d.phone,helperText:d.phone?d.phone:null})})]})})]}),Object(h.jsx)(T.a,{type:"submit",color:"primary",variant:"contained",size:"large",sx:{mt:4},children:"Edit"})]})},Jt=Object(d.b)((function(e){return{userInfo:e.auth.userInfo,userInfoLoading:e.auth.userInfoLoading,userLoading:e.auth.userLoading,error:e.error}}),{clearErrors:xe,updateUserProfile:function(e,t){return function(){var n=Object(A.a)(_.a.mark((function n(r){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.post("/api/auth/update-profile",e);case 3:a=n.sent,r({type:N,payload:a.data.data.user}),t("/profile",{replace:!0}),R("Profile Updated","success"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(je(n.t0.response.data));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t;return t=e.userLoading||e.userInfoLoading?Object(h.jsx)(rt,{}):Object(h.jsx)(Xt,{error:e.error,clearErrors:e.clearErrors,userInfo:e.userInfo,updateUserProfile:e.updateUserProfile}),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"lg",children:[Object(h.jsx)(w.a,{mt:3,mb:1,variant:"h5",sx:{fontWeight:500},children:"Edit Your Profile"}),t]})})})),$t=function(e){return Object(h.jsx)(v.a,{children:Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:"170",image:"http://localhost:5000/"+e.product.images[0].url,alt:e.product.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",children:e.product.name})}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.product.name,src:"http://localhost:5000/"+e.owner.profileImage,sx:{bgcolor:"#2196f3"}}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(w.a,{variant:"p",children:e.owner.username}),Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",fontSize:"0.81em"},children:Qe()(e.product.postedAt).format("MMM Do YYYY, h:mm a")})]})]}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"60px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em"},children:e.product.description.length>101?e.product.description.slice(0,102)+" ...":e.product.description})}),Object(h.jsx)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(e.product._id),variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})})]})]})})},en=Object(d.b)((function(e){return{myFavoritesLoading:e.exchange.myFavoritesLoading,myFavorites:e.exchange.myFavorites}}),{getMyFavorites:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_t()),e.prev=1,e.next=4,U.get("/api/exchange/my-favorites");case 4:n=e.sent,t({type:X,payload:n.data.data.myFavorites}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t;return Object(a.useEffect)((function(){e.getMyFavorites()}),[]),t=e.myFavoritesLoading?Object(h.jsx)(rt,{}):0===e.myFavorites.length?Object(h.jsx)(I.a,{item:!0,xs:4,children:Object(h.jsx)(w.a,{mt:4,mb:3,variant:"p",sx:{fontWeight:400},children:"Your favorites are empty"})}):e.myFavorites.map((function(e){return Object(h.jsx)(I.a,{item:!0,xs:12,sm:6,md:4,children:Object(h.jsx)($t,{product:e.product,owner:e.owner})},e._id)})),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"lg",children:[Object(h.jsx)(w.a,{mt:3,mb:3,variant:"h5",sx:{fontWeight:500},children:"My Favorites"}),Object(h.jsx)(I.a,{container:!0,spacing:5,mb:6,children:t})]})})})),tn=n(163),nn=Object(d.b)(null,{createAReview:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.post("/api/exchange/review",e);case 3:R("Review added successfully","success"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n(je(t.t0.response.data));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)({reviewText:"",reviewNumber:4}),n=Object(g.a)(t,2),r=n[0],c=n[1],i=function(e){c(Object(O.a)(Object(O.a)({},r),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(v.a,{children:Object(h.jsxs)(yt.a,{component:"form",open:e.open,onClose:e.handleClose,onSubmit:function(t){t.preventDefault();var n={exchangeId:e.exchangeId,reviewNumber:r.reviewNumber,reviewText:r.reviewText,reviewedFor:e.initiatorId?e.initiatorId:e.ownerId};e.createAReview(n),c(Object(O.a)(Object(O.a)({},r),{},{reviewText:"",reviewNumber:4})),e.handleClose()},noValidate:!0,autoComplete:"off",children:[Object(h.jsx)(wt.a,{children:"Write a review"}),Object(h.jsxs)(vt.a,{children:[Object(h.jsx)(C.a,{autoFocus:!0,margin:"dense",id:"name",label:"Review text",fullWidth:!0,variant:"standard",name:"reviewText",sx:{width:500},value:r.reviewText,onChange:i}),Object(h.jsx)(w.a,{variant:"p",sx:{display:"block",marginTop:4},children:"Select a review number"}),Object(h.jsx)(Kt.a,{name:"reviewNumber",defaultValue:4,max:10,value:Number(r.reviewNumber),onChange:i})]}),Object(h.jsx)(It.a,{children:Object(h.jsx)(T.a,{type:"submit",sx:{marginBottom:1},children:"Post Review"})})]})})})),rn=Object(d.b)(null,{createNewExchange:Tt})((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],s=e.product.initiator.filter((function(t){return t.initiatorId===e.loggedInUserId}))[0];return s?Object(h.jsx)(tn.a,{sx:{marginBottom:5},variant:"outlined",children:Object(h.jsxs)(v.a,{mt:2,ml:2,mb:2,mr:2,children:[Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:{sm:"column",md:"row"}},children:[Object(h.jsxs)(I.a,{item:!0,xs:12,md:4,sx:{width:{sm:"400px",md:"auto"}},children:[Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em",textAlign:"center"},children:"Given"}),Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:150,image:"http://localhost:5000/"+s.initiatorProduct.images[0].url,alt:s.initiatorProduct.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em"},children:s.initiatorProduct.name})}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.loggedInUserData.username,src:"http://localhost:5000/"+e.loggedInUserData.profileImage,sx:{bgcolor:"#2196f3"}}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.95em"},children:e.loggedInUserData.username}),Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",fontSize:"0.81em"},children:Qe()(s.initiatorProduct.postedAt).format("MMM Do YYYY, h:mm a")})]})]}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"40px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em"},children:s.initiatorProduct.description.length>55?s.initiatorProduct.description.slice(0,56)+" ...":s.initiatorProduct.description})}),Object(h.jsx)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(s.initiatorProduct._id),variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})})]})]})]}),Object(h.jsxs)(I.a,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:"100%"},children:[Object(h.jsxs)(T.a,{variant:"default",color:"secondary",size:"small",sx:{marginTop:2,textTransform:"none",display:"flex",flexDirection:"column",marginBottom:0},children:[Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"94%"},children:"Initiated At:"}),Object(h.jsx)(w.a,{variant:"p",children:Qe()(s.initiatedAt).format("MMM Do YYYY, h:mm a")})]}),s.acceptedAt?Object(h.jsxs)(T.a,{variant:"default",color:"secondary",size:"small",sx:{marginTop:2,textTransform:"none",display:"flex",flexDirection:"column",marginBottom:4},children:[Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"94%"},children:"Exchanged At:"}),Object(h.jsx)(w.a,{variant:"p",children:Qe()(s.acceptedAt).format("MMM Do YYYY, h:mm a")})]}):null,"pending"===s.offerStatus?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(gt.a,{color:"info",sx:{fontSize:"40px"}}),Object(h.jsx)(T.a,{variant:"outlined",color:"info",sx:{width:150,height:50,fontSize:"1.05em",marginTop:2},children:"Pending"})]}):"rejected"===s.offerStatus?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(gt.a,{color:"secondary",sx:{fontSize:"40px"}}),Object(h.jsx)(T.a,{variant:"outlined",color:"secondary",sx:{width:150,height:50,fontSize:"1.05em",marginTop:2},children:"Rejected"})]}):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(gt.a,{color:"primary",sx:{fontSize:"40px"}}),Object(h.jsx)(T.a,{variant:"outlined",color:"primary",sx:{width:150,height:50,fontSize:"1.05em",marginTop:2},children:"Accepted"})]}),s.acceptedAt?null:Object(h.jsx)(T.a,{onClick:function(){var t={productWanted:e.product.productWanted._id};e.createNewExchange(t)},variant:"default",color:"secondary",size:"small",sx:{marginTop:3,textTransform:"none",color:"#6325A9"},children:"Cancel"})]}),Object(h.jsxs)(I.a,{item:!0,xs:12,md:4,sx:{width:{sm:"400px",md:"auto"}},children:[Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em",textAlign:"center"},children:"Wanted"}),Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:150,image:"http://localhost:5000/"+e.product.productWanted.images[0].url,alt:e.product.productWanted.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em"},children:e.product.productWanted.name})}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.product.owner.username,src:"http://localhost:5000/"+e.product.owner.profileImage,sx:{bgcolor:"#2196f3"}}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.95em"},children:e.product.owner.username}),Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",fontSize:"0.81em"},children:Qe()(e.product.productWanted.postedAt).format("MMM Do YYYY, h:mm a")})]})]}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"40px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em"},children:e.product.productWanted.description.length>55?e.product.productWanted.description.slice(0,56)+" ...":e.product.productWanted.description})}),Object(h.jsx)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(e.product.productWanted._id),variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})})]})]})]})]}),s.acceptedAt?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(T.a,{onClick:function(e,t){e.preventDefault(),i(!0)},variant:"contained",color:"info",sx:{marginTop:2,textTransform:"none"},children:"Review"}),Object(h.jsx)(nn,{open:r,handleClose:function(){i(!1)},ownerId:e.product.owner._id,exchangeId:e.initiateId})]}):null]})}):null})),an=Object(d.b)((function(e){return{myInitiates:e.exchange.myInitiates,myInitiatesLoading:e.exchange.myInitiatesLoading,loggedInUserId:e.auth.user.id,loggedInUserData:e.auth.userInfo}}),{getMyInitiates:St})((function(e){var t;return Object(a.useEffect)((function(){e.getMyInitiates()}),[]),t=e.myInitiatesLoading?Object(h.jsx)(rt,{}):0===e.myInitiates.length?Object(h.jsx)(w.a,{mt:4,mb:3,variant:"p",sx:{fontWeight:400},children:"Your have not initiated any exchanges"}):e.myInitiates.map((function(t){return Object(h.jsx)(rn,{product:t,loggedInUserId:e.loggedInUserId,loggedInUserData:e.loggedInUserData,initiateId:t._id},t._id)})),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"lg",children:[Object(h.jsx)(w.a,{mt:3,mb:3,variant:"h5",sx:{fontWeight:500},children:"My Initiates"}),t]})})})),cn=Object(d.b)(null,{createNewExchange:Tt,rejectOffer:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.post("/api/exchange/reject",e);case 3:n(Pt()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.response);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},acceptOffer:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.post("/api/exchange/accept",e);case 3:n(Pt()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n(je(t.t0.response.data));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],i=n[1],s=function(){var t={exchangeId:e.exchangeId,initiatorItemId:e.initiatorData._id};e.acceptOffer(t)},d=function(){var t={exchangeId:e.exchangeId,initiatorItemId:e.initiatorData._id};e.rejectOffer(t)};return Object(h.jsx)(tn.a,{sx:{marginBottom:5},variant:"outlined",children:Object(h.jsxs)(v.a,{mt:2,ml:2,mb:2,mr:2,children:[Object(h.jsxs)(I.a,{container:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:{sm:"column",md:"row"}},children:[Object(h.jsxs)(I.a,{item:!0,xs:12,md:4,sx:{width:{sm:"400px",md:"auto"}},children:[Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em",textAlign:"center"},children:"Given"}),Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:150,image:"http://localhost:5000/"+e.givenProduct.images[0].url,alt:e.givenProduct.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em"},children:e.givenProduct.name})}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.initiatorData.initiatorId.username,src:"http://localhost:5000/"+e.initiatorData.initiatorId.profileImage,sx:{bgcolor:"#2196f3"}}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.95em"},children:e.initiatorData.initiatorId.username}),Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",fontSize:"0.81em"},children:Qe()(e.givenProduct.postedAt).format("MMM Do YYYY, h:mm a")})]})]}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"40px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em"},children:e.givenProduct.description.length>55?e.givenProduct.description.slice(0,56)+" ...":e.givenProduct.description})}),Object(h.jsx)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(e.givenProduct._id),variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})})]})]})]}),Object(h.jsxs)(I.a,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:"100%"},children:[Object(h.jsxs)(T.a,{variant:"default",color:"secondary",sx:{marginTop:2,textTransform:"none",display:"flex",flexDirection:"column",marginBottom:0},children:[Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"94%"},children:"Initiated At:"}),Object(h.jsx)(w.a,{variant:"p",children:Qe()(e.initiatorData.initiatedAt).format("MMM Do YYYY, h:mm a")})]}),e.initiatorData.acceptedAt?Object(h.jsxs)(T.a,{variant:"default",color:"secondary",sx:{marginTop:2,textTransform:"none",display:"flex",flexDirection:"column",marginBottom:6},children:[Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"94%"},children:"Exchanged At:"}),Object(h.jsx)(w.a,{variant:"p",children:Qe()(e.initiatorData.acceptedAt).format("MMM Do YYYY, h:mm a")})]}):null,"accepted"===e.initiatorData.offerStatus?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(gt.a,{color:"primary",sx:{fontSize:"40px"}}),Object(h.jsx)(T.a,{variant:"outlined",color:"primary",sx:{width:150,height:50,fontSize:"1.05em",marginTop:2},children:"Accepted"})]}):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(gt.a,{color:"primary",sx:{fontSize:"40px"}}),Object(h.jsx)(T.a,{onClick:s,variant:"outlined",color:"primary",sx:{width:150,height:50,fontSize:"1.05em",marginTop:2},children:"Accept"}),Object(h.jsx)(T.a,{onClick:d,variant:"outlined",color:"secondary",sx:{width:150,height:50,fontSize:"1.05em",marginTop:2},children:"Reject"})]})]}),Object(h.jsxs)(I.a,{item:!0,xs:12,md:4,sx:{width:{sm:"400px",md:"auto"}},children:[Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em",textAlign:"center"},children:"Wanted"}),Object(h.jsxs)(Ze.a,{children:[Object(h.jsx)(Xe.a,{component:"img",height:150,image:"http://localhost:5000/"+e.wantedProduct.images[0].url,alt:e.wantedProduct.name}),Object(h.jsxs)(Je.a,{children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(w.a,{variant:"h6",sx:{fontSize:"1.12em"},children:e.wantedProduct.name})}),Object(h.jsxs)(v.a,{mt:1,sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(Te.a,{alt:e.ownerData.username,src:"http://localhost:5000/"+e.ownerData.profileImage,sx:{bgcolor:"#2196f3"}}),Object(h.jsxs)(v.a,{ml:2,sx:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.95em"},children:e.ownerData.username}),Object(h.jsx)(w.a,{variant:"p",sx:{opacity:"90%",fontSize:"0.81em"},children:Qe()(e.wantedProduct.postedAt).format("MMM Do YYYY, h:mm a")})]})]}),Object(h.jsx)(v.a,{mt:3,sx:{minHeight:"40px"},children:Object(h.jsx)(w.a,{variant:"p",sx:{fontSize:"0.9em"},children:e.wantedProduct.description.length>55?e.wantedProduct.description.slice(0,56)+" ...":e.wantedProduct.description})}),Object(h.jsx)(v.a,{mt:3,sx:{display:"flex",justifyContent:"end"},children:Object(h.jsxs)(T.a,{component:o.b,to:"/products/".concat(e.wantedProduct._id),variant:"outlined",sx:{textTransform:"none"},children:["Details",Object(h.jsx)($e.a,{sx:{fontSize:"1em",marginLeft:1}})]})})]})]})]})]}),e.initiatorData.acceptedAt?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(T.a,{onClick:function(e,t){e.preventDefault(),i(!0)},variant:"contained",color:"info",sx:{marginTop:2,textTransform:"none"},children:"Review"}),Object(h.jsx)(nn,{open:r,handleClose:function(){i(!1)},initiatorId:e.initiatorData.initiatorId._id,exchangeId:e.exchangeId})]}):null]})})})),sn=function(e){return e.myOffers.map((function(t){return t.initiator.map((function(n){return"rejected"===n.offerStatus?null:Object(h.jsx)(cn,{exchangeId:t._id,initiatorData:n,ownerData:e.ownerInfo,wantedProduct:t.productWanted,givenProduct:n.initiatorProduct,initiateInitiatedAt:n.initiatedAt},n._id)}))}))},on=Object(d.b)((function(e){return{myOffers:e.exchange.myOffers,myOffersLoading:e.exchange.myOffersLoading,ownerInfo:e.auth.userInfo}}),{getMyOffers:Pt})((function(e){var t;return Object(a.useEffect)((function(){e.getMyOffers()}),[]),t=e.myOffersLoading?Object(h.jsx)(rt,{}):0===e.myOffers.length?Object(h.jsx)(w.a,{mt:4,mb:3,variant:"p",sx:{fontWeight:400},children:"Your do not have any offers"}):Object(h.jsx)(sn,{ownerInfo:e.ownerInfo,myOffers:e.myOffers}),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"lg",children:[Object(h.jsx)(w.a,{mt:3,mb:3,variant:"h5",sx:{fontWeight:500},children:"My Offers"}),t]})})})),dn=n(72),ln=n(293),un=n(294),jn=n(295),xn=function(e){var t=[{field:"id",headerName:"Id",width:120},{field:"username",headerName:"Username",width:120},{field:"email",headerName:"Email",width:180},{field:"phone",headerName:"Phone",width:110},{field:"admin",headerName:"Is Admin",type:"boolean",width:90},{field:"reputation",headerName:"Reputation",width:110},{field:"actions",headerName:"Actions",type:"actions",width:120,getActions:function(t){return[Object(h.jsx)(dn.b,{icon:Object(h.jsx)(ln.a,{color:"secondary"}),label:"Delete",onClick:function(){return e.adminDeleteUser(t.id)}}),Object(h.jsx)(dn.b,{icon:t.getValue(t.id,"admin")?Object(h.jsx)(un.a,{color:"info"}):Object(h.jsx)(jn.a,{color:"info"}),onClick:t.getValue(t.id,"admin")?function(){return e.adminDemoteUser(t.id)}:function(){return e.adminPromoteUser(t.id)},label:"Update Role"})]}}],n=[];return e.adminUsers.forEach((function(e){n.push({id:e._id,username:e.username,email:e.email,phone:e.phone,admin:"admin"===e.role,reputation:e.reputation})})),Object(h.jsx)(v.a,{children:Object(h.jsx)(dn.a,{rows:n,columns:t,autoHeight:!0,density:"comfortable",pageSize:10,rowsPerPageOptions:[10]})})},pn=function(e){var t=[{field:"id",headerName:"Id",width:120},{field:"product",headerName:"Product Name",width:200},{field:"owner",headerName:"Owner",width:120},{field:"postedAt",headerName:"Posted At",type:"date",width:120},{field:"reportedCount",headerName:"Reported",width:120},{field:"actions",headerName:"Actions",type:"actions",width:120,getActions:function(t){return[Object(h.jsx)(dn.b,{icon:Object(h.jsx)(ln.a,{color:"secondary"}),label:"Delete",onClick:function(){return e.adminDeleteProduct(t.id)}})]}}],n=[];return e.adminProducts.forEach((function(e){n.push({id:e._id,product:e.name,owner:e.owner.username,postedAt:Qe()(e.postedAt).format("MMM Do YYYY"),reportedCount:e.reportedCount})})),Object(h.jsx)(v.a,{children:Object(h.jsx)(dn.a,{rows:n,columns:t,autoHeight:!0,density:"comfortable",pageSize:10,rowsPerPageOptions:[10]})})},mn=n(312),hn=n(322),bn=n(159),fn=n(297),On=n(296),gn=n(298),vn=function(e){return Object(h.jsx)(v.a,{sx:{width:"100%",maxWidth:200,bgcolor:"background.paper"},children:Object(h.jsxs)(mn.a,{component:"nav","aria-label":"main mailbox folders",children:[Object(h.jsxs)(hn.a,{selected:0===e.selectedIndex,onClick:function(t){return e.handleListItemClick(t,0)},children:[Object(h.jsx)(bn.a,{children:Object(h.jsx)(On.a,{})}),Object(h.jsx)(fn.a,{primary:"Users"})]}),Object(h.jsxs)(hn.a,{selected:1===e.selectedIndex,onClick:function(t){return e.handleListItemClick(t,1)},children:[Object(h.jsx)(bn.a,{children:Object(h.jsx)(gn.a,{})}),Object(h.jsx)(fn.a,{primary:"Products"})]})]})})},yn=function(){return{type:ce}},wn=function(){return{type:se}},In=Object(d.b)((function(e){return{adminUsers:Object.values(e.admin.adminUsers),adminProducts:Object.values(e.admin.adminProducts),adminUsersLoading:e.admin.adminUsersLoading,adminProductsLoading:e.admin.adminProductsLoading}}),{adminGetAllUsers:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(yn()),e.prev=1,e.next=4,U.get("/api/admin/get-users");case 4:n=e.sent,t({type:ae,payload:n.data.data.users}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},adminDeleteUser:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.delete("/api/admin/delete-user/".concat(e));case 3:R("User deleted","success"),n({type:oe,payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(je(t.t0.response.data));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},adminPromoteUser:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.patch("/api/admin/promote-user/",{userId:e});case 3:r=t.sent,R("User promoted","success"),n({type:le,payload:r.data.data.promotedUser}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(je(t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},adminDemoteUser:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.patch("/api/admin/demote-user/",{userId:e});case 3:r=t.sent,R("User demoted","success"),n({type:ue,payload:r.data.data.demotedUser}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(je(t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},adminGetAllProducts:function(){return function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(wn()),e.prev=1,e.next=4,U.get("/api/admin/get-products");case 4:n=e.sent,t({type:ie,payload:n.data.data.products}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},adminDeleteProduct:function(e){return function(){var t=Object(A.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.delete("/api/admin/delete-product/".concat(e));case 3:R("Product deleted","success"),n({type:de,payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(je(t.t0.response.data));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,n=c.a.useState(0),r=Object(g.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){e.adminGetAllUsers(),e.adminGetAllProducts()}),[]),e.adminUsersLoading||e.adminProductsLoading?t=Object(h.jsx)(rt,{}):0===i?t=Object(h.jsx)(xn,{adminUsers:e.adminUsers,adminDeleteUser:e.adminDeleteUser,adminPromoteUser:e.adminPromoteUser,adminDemoteUser:e.adminDemoteUser}):1===i&&(t=Object(h.jsx)(pn,{adminProducts:e.adminProducts,adminDeleteProduct:e.adminDeleteProduct})),Object(h.jsx)(v.a,{mt:11,children:Object(h.jsxs)(y.a,{maxWidth:"lg",children:[Object(h.jsx)(w.a,{mt:3,mb:3,variant:"h5",sx:{fontWeight:500},children:"Admin Panel"}),Object(h.jsxs)(I.a,{container:!0,children:[Object(h.jsx)(I.a,{item:!0,xs:3,children:Object(h.jsx)(vn,{selectedIndex:i,handleListItemClick:function(e,t){s(t)}})}),Object(h.jsx)(I.a,{item:!0,xs:9,children:t})]})]})})})),Cn=n(81),Tn=n(151),En={isAuthenticated:!1,user:{},userLoading:!1,userInfo:{},userInfoLoading:!1},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(O.a)(Object(O.a)({},e),{},{user:P()(t.payload)?{}:t.payload,isAuthenticated:!P()(t.payload),userLoading:!1});case N:return Object(O.a)(Object(O.a)({},e),{},{userInfo:t.payload,userInfoLoading:!1});case H:return Object(O.a)(Object(O.a)({},e),{},{userInfo:Object(O.a)(Object(O.a)({},e.userInfo),{},{favorites:t.payload})});case M:return Object(O.a)(Object(O.a)({},e),{},{userLoading:!0});case z:return Object(O.a)(Object(O.a)({},e),{},{userInfoLoading:!0});default:return e}},Pn=n(55),Dn=n.n(Pn),_n={products:{},product:{},productsLoading:!1},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(O.a)(Object(O.a)({},e),{},{products:Object(O.a)(Object(f.a)({},t.payload._id,t.payload),e.products)});case G:return Object(O.a)(Object(O.a)({},e),{},{products:Object(O.a)({},Dn.a.mapKeys(t.payload,"_id")),productsLoading:!1});case q:return Object(O.a)(Object(O.a)({},e),{},{productsLoading:!0});case V:return Object(O.a)(Object(O.a)({},e),{},{product:t.payload});case K:case Q:return Object(O.a)(Object(O.a)({},e),{},{product:Object(O.a)(Object(O.a)({},e.product),{},{questions:t.payload})});default:return e}},Ln={},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.payload;case Y:return{};default:return e}},kn={myProducts:{},myFavorites:[],myInitiates:[],myOffers:[],myProductsLoading:!1,myFavoritesLoading:!1,myInitiatesLoading:!1,myOffersLoading:!1},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(O.a)(Object(O.a)({},e),{},{myProducts:Object(O.a)({},Dn.a.mapKeys(t.payload,"_id")),myProductsLoading:!1});case ee:return Object(O.a)(Object(O.a)({},e),{},{myProductsLoading:!0});case J:return Object(O.a)(Object(O.a)({},e),{},{myInitiates:t.payload,myInitiatesLoading:!1});case ne:return Object(O.a)(Object(O.a)({},e),{},{myInitiatesLoading:!0});case X:return Object(O.a)(Object(O.a)({},e),{},{myFavorites:t.payload,myFavoritesLoading:!1});case te:return Object(O.a)(Object(O.a)({},e),{},{myFavoritesLoading:!0});case $:return Object(O.a)(Object(O.a)({},e),{},{myOffers:t.payload,myOffersLoading:!1});case re:return Object(O.a)(Object(O.a)({},e),{},{myOffersLoading:!0});default:return e}},Fn={adminUsers:{},adminProducts:{},adminUsersLoading:!1,adminProductsLoading:!1},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(O.a)(Object(O.a)({},e),{},{adminUsers:Object(O.a)({},Dn.a.mapKeys(t.payload,"_id")),adminUsersLoading:!1});case ce:return Object(O.a)(Object(O.a)({},e),{},{adminUsersLoading:!0});case ie:return Object(O.a)(Object(O.a)({},e),{},{adminProducts:Object(O.a)({},Dn.a.mapKeys(t.payload,"_id")),adminProductsLoading:!1});case se:return Object(O.a)(Object(O.a)({},e),{},{adminProductsLoading:!0});case oe:return Object(O.a)(Object(O.a)({},e),{},{adminUsers:Dn.a.omit(e.adminUsers,t.payload)});case de:return Object(O.a)(Object(O.a)({},e),{},{adminProducts:Dn.a.omit(e.adminProducts,t.payload)});case le:case ue:return Object(O.a)(Object(O.a)({},e),{},{adminUsers:Object(O.a)(Object(O.a)({},e.adminUsers),{},Object(f.a)({},t.payload._id,t.payload))});default:return e}},Mn=Object(Cn.b)({auth:Sn,error:Un,product:An,exchange:Rn,admin:Nn}),zn=[Tn.a],Wn=Object(Cn.d)(Mn,{},Object(Cn.c)(Cn.a.apply(void 0,zn),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));if(localStorage.jwt){var Yn=localStorage.jwt;k(Yn);var Bn=Object(p.a)(Yn);Wn.dispatch(me(Bn)),Wn.dispatch((ot=Bn.id,function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z}),e.prev=1,e.next=4,U.get("/api/auth/get-user/".concat(ot));case 4:n=e.sent,t({type:N,payload:n.data.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}var Gn=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(Ne,{}),Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)(m.a,{to:"/products"})}),Object(h.jsx)(m.b,{path:"/auth/register",element:Object(h.jsx)(be,{})}),Object(h.jsx)(m.b,{path:"/auth/login",element:Object(h.jsx)(ge,{})}),Object(h.jsx)(m.b,{path:"/products/new",element:Object(h.jsx)(b,{children:Object(h.jsx)(qe,{})})}),Object(h.jsx)(m.b,{path:"/products",element:Object(h.jsx)(at,{})}),Object(h.jsx)(m.b,{path:"/products/:productId",element:Object(h.jsx)(Bt,{})}),Object(h.jsx)(m.b,{path:"/profile",element:Object(h.jsx)(b,{children:Object(h.jsx)(Zt,{})})}),Object(h.jsx)(m.b,{path:"/profile/edit",element:Object(h.jsx)(b,{children:Object(h.jsx)(Jt,{})})}),Object(h.jsx)(m.b,{path:"/favorites",element:Object(h.jsx)(b,{children:Object(h.jsx)(en,{})})}),Object(h.jsx)(m.b,{path:"/initiates",element:Object(h.jsx)(b,{children:Object(h.jsx)(an,{})})}),Object(h.jsx)(m.b,{path:"/offers",element:Object(h.jsx)(b,{children:Object(h.jsx)(on,{})})}),Object(h.jsx)(m.b,{path:"/admin",element:Object(h.jsx)(b,{children:Object(h.jsx)(In,{})})})]})]})},qn=(n(216),function(){return Object(h.jsx)(d.a,{store:Wn,children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(u.a,{autoClose:2e3,closeOnClick:!0,limit:1,style:{marginTop:75},pauseOnFocusLoss:!1}),Object(h.jsx)(l.a,{theme:x,children:Object(h.jsx)(Gn,{})})]})})});s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(qn,{})}),document.getElementById("root"))},31:function(e,t){e.exports=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}}},[[217,1,2]]]);
//# sourceMappingURL=main.12d9b832.chunk.js.map